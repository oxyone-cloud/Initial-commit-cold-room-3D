<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>OxyONE | Console de Pilotage</title>
    <style>
        body { margin: 0; background-color: #050505; color: #00d2ff; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        #overlay { position: absolute; top: 20px; left: 20px; z-index: 10; background: rgba(0, 20, 40, 0.7); 
                   padding: 15px; border-left: 4px solid #00d2ff; backdrop-filter: blur(5px); }
        
        /* Style du Clavier de manipulation */
        #controls { position: absolute; bottom: 30px; right: 30px; z-index: 10; display: grid; 
                    grid-template-columns: repeat(3, 50px); grid-gap: 10px; }
        .btn { width: 50px; height: 50px; background: rgba(0, 210, 255, 0.2); border: 1px solid #00d2ff; 
               color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; 
               user-select: none; font-weight: bold; }
        .btn:hover { background: rgba(0, 210, 255, 0.5); }
        .btn:active { background: #00d2ff; color: black; }
        .stop { grid-column: 2; background: rgba(255, 0, 0, 0.2); border-color: #ff4444; }
    </style>
</head>
<body>
    <div id="overlay">
        <h1>OxyONE v1.1</h1>
        <p>> MODE: MANUEL ACTIVE</p>
        <p id="coords">ROTATION: X:0, Y:0</p>
    </div>

    <div id="controls">
        <div style="grid-column: 2" class="btn" onclick="move('up')">▲</div>
        <div class="btn" onclick="move('left')">◀</div>
        <div class="btn stop" onclick="move('stop')">■</div>
        <div class="btn" onclick="move('right')">▶</div>
        <div style="grid-column: 2" class="btn" onclick="move('down')">▼</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Cube et Grille
        const geometry = new THREE.BoxGeometry(2, 2, 2);
        const material = new THREE.MeshPhongMaterial({ color: 0x00d2ff, wireframe: true });
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
        scene.add(new THREE.GridHelper(20, 20, 0x00d2ff, 0x002244));
        scene.add(new THREE.PointLight(0xffffff, 1, 100).clone().set(5,5,5));
        camera.position.z = 5;

        let speedX = 0;
        let speedY = 0;

        function move(dir) {
            if(dir === 'up') speedX -= 0.02;
            if(dir === 'down') speedX += 0.02;
            if(dir === 'left') speedY -= 0.02;
            if(dir === 'right') speedY += 0.02;
            if(dir === 'stop') { speedX = 0; speedY = 0; }
        }

        // Ecoute du clavier physique
        window.addEventListener('keydown', (e) => {
            if(e.key === "ArrowUp") move('up');
            if(e.key === "ArrowDown") move('down');
            if(e.key === "ArrowLeft") move('left');
            if(e.key === "ArrowRight") move('right');
            if(e.key === " ") move('stop');
        });

        function animate() {
            requestAnimationFrame(animate);
            cube.rotation.x += speedX;
            cube.rotation.y += speedY;
            document.getElementById('coords').innerText = `ROTATION: X:${speedX.toFixed(2)}, Y:${speedY.toFixed(2)}`;
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
