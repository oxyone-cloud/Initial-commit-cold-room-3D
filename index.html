<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Oxyone – Hypermarket Digital Twin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --primary:#00aaff;
  --ok:#00ff88;
  --warn:#ff4444;
  --bg:#080808;
}

body{
  margin:0;
  overflow:hidden;
  background:var(--bg);
  font-family:"Segoe UI",system-ui,sans-serif;
  color:#fff;
}

/* UI PANEL */
#ui-panel{
  position:absolute;
  top:20px; left:20px;
  width:330px;
  padding:20px;
  background:rgba(10,10,10,.95);
  border:2px solid var(--primary);
  border-radius:14px;
  z-index:10;
}

h1{
  font-size:17px;
  margin:0;
  color:var(--primary);
  text-transform:uppercase;
}
.subtitle{
  font-size:10px;
  color:#888;
  border-bottom:1px solid #222;
  padding-bottom:6px;
  margin-bottom:15px;
}

.block{
  background:rgba(255,255,255,.04);
  padding:10px;
  border-radius:8px;
  margin-bottom:14px;
}
.label{
  font-size:10px;
  color:#aaa;
  text-transform:uppercase;
}
.value{
  font-size:20px;
  font-weight:700;
  color:var(--primary);
}
input[type=range]{
  width:100%;
  accent-color:var(--primary);
}

/* STATUS */
.status{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.unit{
  text-align:center;
  padding:6px;
  font-size:10px;
  border-radius:4px;
  border:1px solid #333;
}
.ok{color:var(--ok);border-color:var(--ok);}
.warn{color:var(--warn);border-color:var(--warn);animation:blink 1s infinite;}

@keyframes blink{50%{opacity:.5;}}

/* CONTACT */
#contact{
  position:absolute;
  top:20px; right:20px;
  text-align:right;
  padding:14px;
  background:rgba(0,0,0,.8);
  border-right:4px solid var(--primary);
  border-radius:8px;
  z-index:10;
}
#contact div{font-size:12px;color:var(--primary);font-weight:600;}
#contact span{font-size:11px;color:#777;font-style:italic;}
</style>
</head>

<body>

<!-- UI -->
<div id="ui-panel">
  <h1>Oxyone Fleet Manager</h1>
  <div class="subtitle">Architecture Grande Distribution – Hypermarché</div>

  <div class="block">
    <div class="label">Température moyenne (°C)</div>
    <div id="tempVal" class="value">2.0°C</div>
    <input id="temp" type="range" min="-10" max="25" value="2">
  </div>

  <div class="block">
    <div class="label">Charge volumique (kg/m³)</div>
    <div id="loadVal" class="value">120</div>
    <input id="load" type="range" min="0" max="500" value="120">
  </div>

  <div class="label">Modules RTLS</div>
  <div class="status">
    <div id="unit-1" class="unit ok">UNIT-01</div>
    <div id="unit-2" class="unit ok">UNIT-02</div>
    <div id="unit-3" class="unit ok">UNIT-03</div>
  </div>
</div>

<div id="contact">
  <div>benhamamouchothman@gmail.com</div>
  <div>+213 782 09 02 81</div>
  <span>Startup labellisée © 2021</span>
</div>

<!-- THREE -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>

<script>
/* CORE */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(70,innerWidth/innerHeight,0.1,1000);
camera.position.set(18,12,18);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

new THREE.OrbitControls(camera,renderer.domElement);

/* LIGHT */
scene.add(new THREE.AmbientLight(0xffffff,.4));
const sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(20,30,20); scene.add(sun);

/* FLOOR */
const floor=new THREE.Mesh(
  new THREE.PlaneGeometry(100,100),
  new THREE.MeshStandardMaterial({color:0x111111})
);
floor.rotation.x=-Math.PI/2;
scene.add(floor);
scene.add(new THREE.GridHelper(100,50,0x222222,0x222222));

/* FLEET */
const fleet=[];
const L=2.74,W=1.83,H=2;

function createUnit(x,id){
  const g=new THREE.Group();
  const mat=new THREE.MeshStandardMaterial({color:0x00aaff,transparent:true,opacity:.25});
  const box=new THREE.Mesh(new THREE.BoxGeometry(L,H,W),mat);
  box.position.y=H/2; g.add(box);

  const bt=new THREE.Mesh(
    new THREE.RingGeometry(1.2,1.4,32),
    new THREE.MeshBasicMaterial({color:0x00ffff,transparent:true,opacity:.5,side:2})
  );
  bt.rotation.x=-Math.PI/2; bt.position.z=W/2+2;
  g.add(bt);

  g.position.x=x;
  scene.add(g);
  fleet.push({mat,bt,id});
}

[-6,0,6].forEach((x,i)=>createUnit(x,i+1));

/* UI LOGIC */
const temp=document.getElementById("temp");
const load=document.getElementById("load");

function animate(){
  requestAnimationFrame(animate);
  const t=Date.now()*0.002;

  tempVal.innerText=temp.value+"°C";
  loadVal.innerText=load.value;

  fleet.forEach((u,i)=>{
    u.bt.material.opacity=.3+Math.abs(Math.sin(t+i))*.5;
    const el=document.getElementById("unit-"+u.id);
    if(temp.value>15||load.value>250){
      u.mat.color.set(0xff3333);
      el.className="unit warn";
    }else{
      u.mat.color.set(0x00aaff);
      el.className="unit ok";
    }
  });

  renderer.render(scene,camera);
}
animate();

window.onresize=()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
};
</script>
</body>
</html>
